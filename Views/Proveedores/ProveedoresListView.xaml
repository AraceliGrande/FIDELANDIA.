<UserControl x:Class="FIDELANDIA.Views.ProveedoresListView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="Transparent">

    <Border Background="White" CornerRadius="12" Padding="16" 
            BorderBrush="#eee" BorderThickness="1" Effect="{StaticResource DropShadow}" Margin="0,0,10,0">
        <DockPanel LastChildFill="True">
            
            <TextBlock Text="Proveedores" FontSize="20" FontWeight="Bold" Margin="0,0,0,16" 
                       Foreground="#b65601" DockPanel.Dock="Top"/>

            <Button Content="+ Nuevo Proveedor" Style="{StaticResource PrimaryButton}" 
                    DockPanel.Dock="Bottom" Margin="0,16,0,0" x:Name="BtnNuevoProveedor" Height="29" Width="146"
                    Click="BtnNuevoProveedor_Click" Cursor="Hand"/>

            <!-- ItemsControl con binding -->
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                <ScrollViewer.Resources>
                    <Style TargetType="ScrollBar">
                        <Setter Property="Width" Value="0.1"/>
                        <!-- ultra fina -->
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ScrollBar">
                                    <Grid Background="Transparent">
                                        <Track Name="PART_Track" IsDirectionReversed="True">
                                            <Track.Thumb>
                                                <Thumb>
                                                    <Thumb.Template>
                                                        <ControlTemplate TargetType="Thumb">
                                                            <Border Background="#888" CornerRadius="6" Opacity="0.15"/>
                                                        </ControlTemplate>
                                                    </Thumb.Template>
                                                </Thumb>
                                            </Track.Thumb>
                                        </Track>
                                    </Grid>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ScrollViewer.Resources>
                <ListBox x:Name="ProveedoresListBox" Margin="0" 
         BorderThickness="0"
         Background="Transparent"
         SelectionChanged="ProveedoresListBox_SelectionChanged">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Border CornerRadius="10" Padding="12" Width="Auto" Margin="0,0,0,12">
                                <StackPanel>
                                    <TextBlock Text="{Binding Nombre}" FontWeight="Bold" Foreground="#333"/>
                                    <TextBlock Text="{Binding Cuit, StringFormat=CUIT: {0}}" FontSize="12" Foreground="#666"/>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>

                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Padding" Value="0"/>
                            <Setter Property="Margin" Value="0"/>
                            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                            <Setter Property="OverridesDefaultStyle" Value="True"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ListBoxItem">
                                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Stretch" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter TargetName="Bd" Property="Background" Value="#FFF3E0"/>
                                            </Trigger>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="Bd" Property="Background" Value="#FFF3E0"/>
                                                <!-- opcional hover -->
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </ListBox.ItemContainerStyle>

                </ListBox>
            </ScrollViewer>
        </DockPanel>
    </Border>
</UserControl>
